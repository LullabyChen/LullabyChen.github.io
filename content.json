{"meta":{"title":"Cabin","subtitle":null,"description":null,"author":"Duo","url":"https://lullabychen.github.io"},"pages":[{"title":"tags","date":"2019-01-24T04:04:04.000Z","updated":"2019-01-24T10:32:37.497Z","comments":false,"path":"tags/index.html","permalink":"https://lullabychen.github.io/tags/index.html","excerpt":"","text":""},{"title":"about","date":"2019-01-24T04:02:05.000Z","updated":"2019-01-24T10:38:42.601Z","comments":false,"path":"about/index.html","permalink":"https://lullabychen.github.io/about/index.html","excerpt":"","text":""},{"title":"categories","date":"2019-01-24T04:04:56.000Z","updated":"2019-01-24T10:37:56.781Z","comments":false,"path":"categories/index.html","permalink":"https://lullabychen.github.io/categories/index.html","excerpt":"","text":""}],"posts":[{"title":"电影评级分类：二分类问题","slug":"Keras2","date":"2019-01-28T11:42:55.000Z","updated":"2019-01-28T11:47:28.688Z","comments":true,"path":"2019/01/28/Keras2/","link":"","permalink":"https://lullabychen.github.io/2019/01/28/Keras2/","excerpt":"123#加载IMDB数据集from keras.datasets import imdb(train_data, train_labels), (test_data, test_labels) = imdb.load_data(num_words=10000) 1Using TensorFlow backend.","text":"123#加载IMDB数据集from keras.datasets import imdb(train_data, train_labels), (test_data, test_labels) = imdb.load_data(num_words=10000) 1Using TensorFlow backend. 1train_data[0] 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218[1, 14, 22, 16, 43, 530, 973, 1622, 1385, 65, 458, 4468, 66, 3941, 4, 173, 36, 256, 5, 25, 100, 43, 838, 112, 50, 670, 2, 9, 35, 480, 284, 5, 150, 4, 172, 112, 167, 2, 336, 385, 39, 4, 172, 4536, 1111, 17, 546, 38, 13, 447, 4, 192, 50, 16, 6, 147, 2025, 19, 14, 22, 4, 1920, 4613, 469, 4, 22, 71, 87, 12, 16, 43, 530, 38, 76, 15, 13, 1247, 4, 22, 17, 515, 17, 12, 16, 626, 18, 2, 5, 62, 386, 12, 8, 316, 8, 106, 5, 4, 2223, 5244, 16, 480, 66, 3785, 33, 4, 130, 12, 16, 38, 619, 5, 25, 124, 51, 36, 135, 48, 25, 1415, 33, 6, 22, 12, 215, 28, 77, 52, 5, 14, 407, 16, 82, 2, 8, 4, 107, 117, 5952, 15, 256, 4, 2, 7, 3766, 5, 723, 36, 71, 43, 530, 476, 26, 400, 317, 46, 7, 4, 2, 1029, 13, 104, 88, 4, 381, 15, 297, 98, 32, 2071, 56, 26, 141, 6, 194, 7486, 18, 4, 226, 22, 21, 134, 476, 26, 480, 5, 144, 30, 5535, 18, 51, 36, 28, 224, 92, 25, 104, 4, 226, 65, 16, 38, 1334, 88, 12, 16, 283, 5, 16, 4472, 113, 103, 32, 15, 16, 5345, 19, 178, 32] 1train_labels 1array([1, 0, 0, ..., 0, 1, 0]) 1max([max(sequence) for sequence in train_data]) 19999 123456#索引解码成单词word_index = imdb.get_word_index()reverse_word_index = dict( [(value, key) for (key, value) in word_index.items()])decoded_review = ' '.join( [reverse_word_index.get(i - 3, '?') for i in train_data[0]]) #第一个评论 1decoded_review 1&quot;? this film was just brilliant casting location scenery story direction everyone&apos;s really suited the part they played and you could just imagine being there robert ? is an amazing actor and now the same being director ? father came from the same scottish island as myself so i loved the fact there was a real connection with this film the witty remarks throughout the film were great it was just brilliant so much that i bought the film as soon as it was released for ? and would recommend it to everyone to watch and the fly fishing was amazing really cried at the end it was so sad and you know what they say if you cry at a film it must have been good and this definitely was also ? to the two little boy&apos;s that played the ? of norman and paul they were just brilliant children are often left out of the ? list i think because the stars that play them all grown up are such a big profile for the whole film but these children are amazing and should be praised for what they have done don&apos;t you think the whole story was so lovely because it was true and was someone&apos;s life after all that was shared with us all&quot; 12345678910#数据向量化import numpy as npdef vectorize_sequences(sequences, dimension=10000): results= np.zeros((len(sequences), dimension)) for i, sequence in enumerate(sequences): results[i, sequence] = 1. return resultsx_train = vectorize_sequences(train_data)x_test = vectorize_sequences(test_data) 1x_train[0] 1array([0., 1., 1., ..., 0., 0., 0.]) 123#标签向量化y_train = np.asarray(train_labels).astype('float32')y_test = np.asarray(test_labels).astype('float32') 12345678910#构建网络 模型定义#激活函数relu 所有负值归0#任意值“压缩”到[0, 1]区间内from keras import modelsfrom keras import layersmodel = models.Sequential()model.add(layers.Dense(16, activation='relu', input_shape=(10000,)))model.add(layers.Dense(16, activation='relu'))model.add(layers.Dense(1, activation='sigmoid'))#relu 负值归零 sigmoid 任意值压缩到[0, 1]区间内 123#损失函数 优化器 指标 编译模型#model.compile(optimizer='rmsprop', loss='binary_crossentropy', metrics=['accuracy']) 123456#从训练数据中留出验证集x_val = x_train[:10000]partial_x_train = x_train[10000:]y_val = y_train[:10000]partial_y_train = y_train[10000:] 123#训练模型model.compile(optimizer='rmsprop', loss='binary_crossentropy', metrics=['acc'])history = model.fit(partial_x_train, partial_y_train, epochs=20, batch_size=512, validation_data=(x_val, y_val)) 1234567891011121314151617181920212223242526272829303132333435363738394041Train on 15000 samples, validate on 10000 samplesEpoch 1/2015000/15000 [==============================] - 6s 421us/step - loss: 0.5083 - acc: 0.7819 - val_loss: 0.3788 - val_acc: 0.8690Epoch 2/2015000/15000 [==============================] - 5s 311us/step - loss: 0.3001 - acc: 0.9048 - val_loss: 0.3000 - val_acc: 0.8901Epoch 3/2015000/15000 [==============================] - 4s 257us/step - loss: 0.2178 - acc: 0.9284 - val_loss: 0.3082 - val_acc: 0.8715Epoch 4/2015000/15000 [==============================] - 3s 221us/step - loss: 0.1750 - acc: 0.9435 - val_loss: 0.2838 - val_acc: 0.8839Epoch 5/2015000/15000 [==============================] - 4s 241us/step - loss: 0.1425 - acc: 0.9543 - val_loss: 0.2850 - val_acc: 0.8865Epoch 6/2015000/15000 [==============================] - 3s 222us/step - loss: 0.1149 - acc: 0.9652 - val_loss: 0.3163 - val_acc: 0.8773Epoch 7/2015000/15000 [==============================] - 4s 265us/step - loss: 0.0978 - acc: 0.9710 - val_loss: 0.3130 - val_acc: 0.8847Epoch 8/2015000/15000 [==============================] - 3s 231us/step - loss: 0.0807 - acc: 0.9765 - val_loss: 0.3861 - val_acc: 0.8653Epoch 9/2015000/15000 [==============================] - 3s 215us/step - loss: 0.0660 - acc: 0.9820 - val_loss: 0.3636 - val_acc: 0.8782Epoch 10/2015000/15000 [==============================] - 4s 254us/step - loss: 0.0555 - acc: 0.9852 - val_loss: 0.3845 - val_acc: 0.8790Epoch 11/2015000/15000 [==============================] - 3s 194us/step - loss: 0.0449 - acc: 0.9888 - val_loss: 0.4167 - val_acc: 0.8766Epoch 12/2015000/15000 [==============================] - 4s 247us/step - loss: 0.0385 - acc: 0.9913 - val_loss: 0.4511 - val_acc: 0.8700Epoch 13/2015000/15000 [==============================] - 4s 251us/step - loss: 0.0298 - acc: 0.9927 - val_loss: 0.4705 - val_acc: 0.8727Epoch 14/2015000/15000 [==============================] - 4s 259us/step - loss: 0.0244 - acc: 0.9949 - val_loss: 0.5029 - val_acc: 0.8723Epoch 15/2015000/15000 [==============================] - 3s 233us/step - loss: 0.0177 - acc: 0.9979 - val_loss: 0.5375 - val_acc: 0.8692Epoch 16/2015000/15000 [==============================] - 4s 239us/step - loss: 0.0170 - acc: 0.9967 - val_loss: 0.5728 - val_acc: 0.8702Epoch 17/2015000/15000 [==============================] - 3s 196us/step - loss: 0.0093 - acc: 0.9995 - val_loss: 0.6176 - val_acc: 0.8654Epoch 18/2015000/15000 [==============================] - 3s 224us/step - loss: 0.0117 - acc: 0.9975 - val_loss: 0.6386 - val_acc: 0.8669Epoch 19/2015000/15000 [==============================] - 3s 211us/step - loss: 0.0069 - acc: 0.9992 - val_loss: 0.7420 - val_acc: 0.8559Epoch 20/2015000/15000 [==============================] - 4s 238us/step - loss: 0.0043 - acc: 0.9999 - val_loss: 0.6976 - val_acc: 0.8655 1234567891011121314151617#绘制训练损失和验证损失import matplotlib.pyplot as plthistory_dict = history.historyloss_values = history_dict['loss']val_loss_values = history_dict['val_loss']epochs = range(1, len(loss_values) + 1)plt.plot(epochs, loss_values, 'bo', label='Training loss')plt.plot(epochs, val_loss_values, 'b', label='Valifation loss')plt.title('Training and validation loss')plt.xlabel('Epochs')plt.ylabel('Loss')plt.legend()plt.show() 1&lt;Figure size 640x480 with 1 Axes&gt; 1history_dict.keys() 1dict_keys([&apos;val_loss&apos;, &apos;val_acc&apos;, &apos;loss&apos;, &apos;acc&apos;]) 12345678910111213#绘制训练精度和验证精度plt.clf()acc = history_dict['acc']val_acc = history_dict['val_acc']plt.plot(epochs, acc, 'bo', label='Training acc')plt.plot(epochs, val_acc, 'b', label='Validation acc')plt.title('Training and validation accuracy')plt.xlabel('Epochs')plt.ylabel('Accuracy')plt.legend()plt.show() 12results = model.evaluate(x_test, y_test)results 125000/25000 [==============================] - 7s 272us/step 1[0.768154475197792, 0.85032] 12#预测评价正面的可能性model.predict(x_test) 1234567array([[0.00997098], [0.9999999 ], [0.971289 ], ..., [0.00219277], [0.0054981 ], [0.72482127]], dtype=float32)","categories":[{"name":"Notes","slug":"Notes","permalink":"https://lullabychen.github.io/categories/Notes/"}],"tags":[{"name":"Keras","slug":"Keras","permalink":"https://lullabychen.github.io/tags/Keras/"}]},{"title":"Intellij IDEA插件开发入门（一）","slug":"Plugin1","date":"2019-01-27T13:13:10.000Z","updated":"2019-01-28T09:28:47.278Z","comments":true,"path":"2019/01/27/Plugin1/","link":"","permalink":"https://lullabychen.github.io/2019/01/27/Plugin1/","excerpt":"Intellij IDEA插件开发有两种方式： Gradle Plugin Devkit 本文根据官方推荐使用Gradle。 1. 插件开发环境 IDEA: 社区版本 Project JDK: 1.8 Gradle: 4.10","text":"Intellij IDEA插件开发有两种方式： Gradle Plugin Devkit 本文根据官方推荐使用Gradle。 1. 插件开发环境 IDEA: 社区版本 Project JDK: 1.8 Gradle: 4.10 2. 确认Gradle可用菜单Preferences -&gt; Plugins 3. 创建Plugin项目 （官方推荐勾选“Use default cradle wrapper”，以便IDEA自动安装Gradle需要的包） 项目创建完成。 工程结构： plugin.xml文件内容： id：当前插件的唯一id号。 name：插件的名称。 version：插件的版本号。 vendor：开发人的邮箱、公司名称。 description：插件的描述，如果将插件上传到IDEA的仓库，在进行下载时会显示该描述。 idea-version：表示当前插件所支持的所有IDEA版本。 extensions：一般放一些我们自己扩展的东西，比如新增高亮显示、新增语言支持。 actions：新增的类在这里注册，用于菜单栏扩展。 4. 配置Gradle插件在build.gradle文件中，设置运行插件的沙箱地址。 5. 创建一个action 自定义功能加在Window菜单栏下。 在plugin.xml文件中，项目自动生成action配置： 6. Gradle运行配置菜单Edit Configurations -&gt; Run/Debug Configurations 点击’+’号，新建Gradle Run Configuration。 7. 运行项目 在Window菜单栏加入我们自定义的’Greeting’选项，点击弹出’Hello World!’。 8. 打包插件参考文献： IDEA官方插件开发手册http://www.jetbrains.org/intellij/sdk/docs/basics.html","categories":[{"name":"Notes","slug":"Notes","permalink":"https://lullabychen.github.io/categories/Notes/"}],"tags":[{"name":"Intellij Plugin","slug":"Intellij-Plugin","permalink":"https://lullabychen.github.io/tags/Intellij-Plugin/"}]},{"title":"Keras学习（一）：Mac OS下安装基于TensorFlow的Keras","slug":"Keras1","date":"2019-01-24T01:20:32.000Z","updated":"2019-01-25T04:23:35.878Z","comments":true,"path":"2019/01/24/Keras1/","link":"","permalink":"https://lullabychen.github.io/2019/01/24/Keras1/","excerpt":"操作系统：macOs High Sierra 10.13.6 1. TensorFlow安装必备：Python 采用pip方式安装TensorFlow，命令如下： 1sudo pip install tensorflow 在输入该命令过程中遇到问题如下：（如无遇到可跳过） 1Could not find a version that satisfies the requirement tensorflow ...... 原因是python版本问题：最新的anaconda中python版本已经更新到python3.7，而tensorflow只支持到python3.6。","text":"操作系统：macOs High Sierra 10.13.6 1. TensorFlow安装必备：Python 采用pip方式安装TensorFlow，命令如下： 1sudo pip install tensorflow 在输入该命令过程中遇到问题如下：（如无遇到可跳过） 1Could not find a version that satisfies the requirement tensorflow ...... 原因是python版本问题：最新的anaconda中python版本已经更新到python3.7，而tensorflow只支持到python3.6。 在anaconda官网中给出了三种解决方案： 选择第二种方案，在命令行输入如下命令： 1sudo conda install python=3.6 python3.6安装完成。再如上输入命令，tensorflow安装完成。 2. Keras安装采用pip方式安装Keras，命令如下： 1sudo pip install keras Keras安装完成。 3. 实例测试","categories":[{"name":"Notes","slug":"Notes","permalink":"https://lullabychen.github.io/categories/Notes/"}],"tags":[{"name":"Keras","slug":"Keras","permalink":"https://lullabychen.github.io/tags/Keras/"}]},{"title":"Hello World","slug":"hello-world","date":"2019-01-18T11:46:20.519Z","updated":"2019-01-24T11:03:39.496Z","comments":true,"path":"2019/01/18/hello-world/","link":"","permalink":"https://lullabychen.github.io/2019/01/18/hello-world/","excerpt":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}]}